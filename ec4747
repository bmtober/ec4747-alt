
# Run this script in the directory that has the SPAMTrain.label file.

checkscript ()
{
  # confirm that a script file is visible in path
  which "$1" &> /dev/null
  [ $? -ne 0 ]  && echo "$1 not found in path" && exit
}

checkscript "vcosine"
checkscript "vdot"
checkscript "vmag"
checkscript "vsum"
checkscript "vtfidf"
checkscript "vunit"

make all

checkfile ()
{
  # confirm that a file exists 
  [ ! -f "${1}" ] && echo "File '${1}' not found" && exit
}

checkfile "document_similarity.spam"
checkfile "document_similarity.ham"

join -j 2  "document_similarity.spam" "document_similarity.ham" | \
  awk '{printf("%s, %f, %f\n", $1, $2, $3)}' > document_similarity.csv

