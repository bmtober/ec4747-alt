
# Run this script in the directory that has the SPAMTrain.label file.

checkscript ()
{
  # confirm that a script file is visible in path
  which "$1" &> /dev/null
  [ $? -ne 0 ]  && echo "$1 not found in path" && exit
}

checkscript "vcosine"
checkscript "vdot"
checkscript "vmag"
checkscript "vscale"
checkscript "vsum"
checkscript "vtfidf"
checkscript "vunit"

make all

checkfile ()
{
  # confirm that a file exists 
  [ ! -f "${1}" ] && echo "File '${1}' not found" && exit
}

threshold="${1-1}"

checkfile "document_similarity.csv"
checkfile "average_term_similarity.csv"
checkfile "top_ten_term_similarity.csv"

R --silent --vanilla < plot.R  

